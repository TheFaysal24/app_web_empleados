{% extends "layout.html" %}
{% block title %}Panel Admin{% endblock %}
{% block content %}
<div class="row">
    <div class="col-md-12 text-center mb-4">
        <h2>Panel de Administraci√≥n</h2>
    </div>
</div>
<div class="row mb-4">
    <div class="col-md-3">
        <a href="{{ url_for('agregar_empleado') }}" class="btn btn-custom w-100">Agregar Empleado</a>
    </div>
    <div class="col-md-3">
        <a href="{{ url_for('turnos') }}" class="btn btn-custom w-100">Gestionar Turnos</a>
    </div>
    <div class="col-md-3">
        <a href="{{ url_for('exportar_datos') }}" class="btn btn-custom w-100">Exportar Datos</a>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <h4>Registros de todos los usuarios</h4>
        <table class="table table-striped table-dark">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Usuario</th>
                    <th>Nombre</th>
                    <th>Inicio</th>
                    <th>Salida</th>
                    <th>Horas Trabajadas</th>
                    <th>Horas Extras</th>
                </tr>
            </thead>
            <tbody>
                {% for usuario, info in data['usuarios'].items() %}
                    {% set reg = data['registros'].get(usuario, {}) %}
                    <tr>
                        <td>{{ loop.index }}</td>
                        <td>{{ usuario }}</td>
                        <td>{{ info.nombre }}</td>
                        <td>{{ reg.inicio if reg else 'N/A' }}</td>
                        <td>{{ reg.salida if reg else 'N/A' }}</td>
                        <td>{{ reg.horas_trabajadas if reg else 0 }}</td>
                        <td>{{ reg.horas_extras if reg else 0 }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
