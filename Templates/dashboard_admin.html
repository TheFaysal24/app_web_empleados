{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
<div class="col-span-1 card p-4" data-aos="fade-up">
<h3 class="font-semibold">Acciones rápidas</h3>
<form action="{{ url_for('marcar_inicio') }}" method="post" class="mt-3">
<button class="w-full px-3 py-2 rounded-lg btn-accent">Marcar inicio</button>
</form>
<form action="{{ url_for('marcar_salida') }}" method="post" class="mt-2">
<button class="w-full px-3 py-2 rounded-lg card">Marcar salida</button>
</form>


{% if admin %}
<a href="{{ url_for('agregar_empleado') }}" class="mt-3 inline-block px-3 py-2 rounded-lg card">Agregar empleado</a>
<a href="{{ url_for('turnos') }}" class="mt-2 inline-block px-3 py-2 rounded-lg card">Generar turnos</a>
<a href="{{ url_for('exportar_datos') }}" class="mt-2 inline-block px-3 py-2 rounded-lg card">Exportar CSV</a>
{% endif %}
</div>


<div class="md:col-span-2 card p-4" data-aos="fade-left">
<h3 class="font-semibold">Registro (últimos dias)</h3>
{% if registros %}
<table class="w-full text-sm mt-3">
<thead class="muted text-left text-xs">
<tr><th>Fecha</th><th>Inicio</th><th>Salida</th><th>Horas</th></tr>
</thead>
<tbody>
{% for fecha, reg in registros.items()|sort(reverse=true) %}
<tr class="border-t py-2">
<td class="py-2">{{ fecha }}</td>
<td class="py-2">{{ reg.inicio or '-' }}</td>
<td class="py-2">{{ reg.salida or '-' }}</td>
<td class="py-2">{{ reg.horas_trabajadas or 0 }}</td>
</tr>
{% endfor %}
</tbody>
</table>
{% else %}
<p class="muted mt-